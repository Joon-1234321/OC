<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë‹¨ì–´ íƒ€ì´í•‘ í€´ì¦ˆ + íŒíŠ¸</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 40px; }
    #quiz-container { max-width: 520px; margin: auto; padding: 24px; border: 2px solid #ccc; border-radius: 12px; background:#fff; }
    h2 { margin-bottom: 18px; }
    input { width: 85%; padding: 10px; font-size: 18px; margin-top: 8px; }
    .btns { margin-top: 12px; }
    button { padding: 10px 18px; margin: 6px; font-size: 16px; cursor: pointer; border:none; border-radius:8px; }
    .primary { background:#4caf50; color:#fff; }
    .secondary { background:#78909c; color:#fff; }
    .hint { background:#42a5f5; color:#fff; }
    #feedback { margin-top: 14px; font-size: 18px; font-weight: bold; min-height: 24px; }
    #hintBox { margin-top: 8px; font-size: 15px; color:#455a64; min-height: 20px; }
  </style>
</head>
<body>
  <div id="quiz-container">
    <h2 id="question"></h2>
    <input type="text" id="answerInput" autocomplete="off" />
    <div class="btns">
      <button class="primary" onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
      <button class="secondary" onclick="clearInput()">ì§€ìš°ê¸°</button>
      <button class="hint" onclick="showHint()">íŒíŠ¸</button>
    </div>
    <div id="hintBox"></div>
    <div id="feedback"></div>
  </div>

  <script>
    const quizData = [
      { question: "í•™êµ", answer: "school" },
      { question: "ì‹œì‘í•˜ë‹¤", answer: "begin" },
      { question: "í•™ê¸‰, ìˆ˜ì—…", answer: "class" },
      { question: "ì¼ì–´ë‚˜ë‹¤(ê¹¨ì–´ë‚˜ë‹¤)", answer: "wake up" },
      { question: "ê°€ë‹¤", answer: "go" },
      { question: "ê±¸ì–´ê°€ë‹¤", answer: "walk" },
      { question: "ëŠ¦ê²Œ, ëŠ¦ì€", answer: "late" },
      { question: "ëë‚˜ë‹¤", answer: "end" },
      { question: "ë‹¬ë¦¬ë‹¤", answer: "run" },
      { question: "ìš´ë™ì¥", answer: "playground" }
    ];

    let idx = 0;
    let hintLevel = 0; // 0: ì—†ìŒ, 1: ê¸¸ì´/ë‹¨ì–´ìˆ˜, 2: ì²«ê¸€ì, 3: ì„ê¸°

    const qEl = document.getElementById("question");
    const input = document.getElementById("answerInput");
    const feedback = document.getElementById("feedback");
    const hintBox = document.getElementById("hintBox");

    function loadQuestion() {
      const item = quizData[idx];
      qEl.textContent = `ë¬¸ì œ ${idx + 1}. ${item.question}`;
      input.value = "";
      feedback.textContent = "";
      hintBox.textContent = "";
      hintLevel = 0;
      input.focus();
    }

    function checkAnswer() {
      const user = input.value.trim().toLowerCase();
      const correct = quizData[idx].answer.toLowerCase();
      if (!user) return;
      if (user === correct) {
        feedback.style.color = "green";
        feedback.textContent = "ì •ë‹µì…ë‹ˆë‹¤! âœ…";
        setTimeout(() => {
          idx++;
          if (idx < quizData.length) loadQuestion();
          else document.getElementById("quiz-container").innerHTML = "<h2>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!</h2>";
        }, 900);
      } else {
        feedback.style.color = "red";
        feedback.textContent = "í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.";
      }
    }

    function clearInput() {
      input.value = "";
      input.focus();
      feedback.textContent = "";
    }

    // ---- Hint helpers ----
    function maskLengths(answer) {
      // ë‹¨ì–´ ìˆ˜/ê¸¸ì´ í‘œì‹œ: wake up -> [4] [2], school -> [6]
      return answer.split(" ").map(w => `[${w.length}]`).join(" ");
    }

    function revealFirstLetters(answer) {
      // ì²« ê¸€ìë§Œ ê³µê°œ: wake up -> w___ __, school -> s_____
      return answer.split(" ").map(w => {
        if (w.length === 0) return "";
        if (w.length === 1) return w[0];
        return w[0] + "_".repeat(w.length - 1);
      }).join(" ");
    }

    function shuffleInnerLetters(answer) {
      // ì²« ê¸€ìëŠ” ê³ ì •í•˜ê³  ë‚˜ë¨¸ì§€ë¥¼ ì„ê¸°: wake -> w + shuffle(ake)
      function shuffle(str) {
        const arr = str.split("");
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr.join("");
      }
      return answer.split(" ").map(w => {
        if (w.length <= 2) return w;           // 1~2ê¸€ìëŠ” ê·¸ëŒ€ë¡œ
        const head = w[0];
        const mid = w.slice(1);
        return head + shuffle(mid);
      }).join(" ");
    }

    function showHint() {
      const ans = quizData[idx].answer;
      hintLevel = Math.min(hintLevel + 1, 3);
      if (hintLevel === 1) {
        hintBox.textContent = `íŒíŠ¸: ${maskLengths(ans)}`;
      } else if (hintLevel === 2) {
        hintBox.textContent = `íŒíŠ¸: ${revealFirstLetters(ans)}`;
      } else {
        hintBox.textContent = `íŒíŠ¸: ${shuffleInnerLetters(ans)}`;
      }
    }

    loadQuestion();
  </script>
</body>
</html>
