<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SNS Typing Practice</title>
<style>
  body {
    font-family: "Arial Rounded MT Bold", system-ui, -apple-system, sans-serif;
    background: linear-gradient(135deg, #dff1ff, #f0ffe3);
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    margin: 0;
    text-align: center;
  }
  .card {
    background: rgba(255,255,255,0.8);
    padding: 30px 40px;
    border-radius: 24px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.18);
    max-width: 650px;
    width: 90%;
  }
  .progress {
    font-size: 0.95rem; color: #0b4378; font-weight: 700;
    margin-bottom: 10px;
  }
  h2 { font-size: 1.1rem; margin: 8px 0 12px; color: #333; }
  .sentence {
    font-size: 1.6rem;
    margin: 12px 0 22px;
  }
  .input-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
  }
  input[type="text"]{
    font-size: 1.25rem;
    padding: 10px 12px;
    width: 70%;
    border-radius: 10px;
    border: 2px solid #9bb6ff;
    outline: none;
    text-align: center;
  }
  button{
    padding: 10px 16px;
    font-size: 1.05rem;
    border: none;
    border-radius: 10px;
    background: #37a1ff;
    color: #fff;
    cursor: pointer;
  }
  .feedback{ margin-top: 14px; font-weight: 800; min-height: 1.4em; }
  .correct{ color:#0a9c57; } 
  .wrong{ color:#e53935; }
</style>
</head>
<body>

<div class="card">
  <div class="progress" id="progress">ë¬¸í•­ 1 / 13</div>
  <h2 id="translation"></h2>
  <div class="sentence" id="sentence"></div>
  <div class="input-row">
    <input type="text" id="answer" placeholder="ë¹ˆì¹¸(_____)ì— ë“¤ì–´ê°ˆ ë§ì„ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off" />
    <button id="checkBtn">í™•ì¸</button>
  </div>
  <div class="feedback" id="feedback"></div>
</div>

<script>
const data = [
  {kr: "ë‚˜ëŠ” í˜ì´ìŠ¤ë¶ì— ê°€ì…í–ˆë‹¤.", en: "I (joined) Facebook.", answer: "joined"},
  {kr: "ê·¸ë…€ëŠ” DMì„ ë³´ë‚¼ ê²ƒì´ë‹¤.", en: "She will (send) a DM.", answer: "send"},
  {kr: "ë‚˜ëŠ” ëŒ“ê¸€ì„ ì“°ê³  ìˆë‹¤.", en: "I am (writing) a comment.", answer: "writing"},
  {kr: "200ëª…ì´ ê·¸ë…€ì˜ ì±„ë„ì„ êµ¬ë…í•˜ê³  ìˆë‹¤.", en: "200 people are (subscribing to) her channel.", answer: "subscribing to"},
  {kr: "ê·¸ëŠ” íŠ¸ìœ„í„°ì—ì„œ ë‚˜ë¥¼ íŒ”ë¡œìš°í–ˆë‹¤.", en: "He (followed) me on Twitter.", answer: "followed"},
  {kr: "ë§ì€ í•œêµ­ì¸ë“¤ì´ í‹±í†¡ì— ê°€ì…í–ˆë‹¤.", en: "Many Koreans (joined) TikTok.", answer: "joined"},
  {kr: "ë¯¼í˜¸ëŠ” ì˜ìƒì„ ê³µìœ í•  ê²ƒì´ë‹¤.", en: "Minho will (share) a video.", answer: "share"},
  {kr: "ë‚˜ëŠ” ì¸ìŠ¤íƒ€ê·¸ë¨ì— ìŠ¤í† ë¦¬ë¥¼ ì˜¬ë¦¬ê³  ìˆë‹¤.", en: "I am (posting) a story on Instagram.", answer: "posting"},
  {kr: "ê·¸ë…€ëŠ” 30ê°œì˜ ì±„ë„ì„ êµ¬ë…í–ˆë‹¤.", en: "She (subscribed to) 30 channels.", answer: "subscribed to"},
  {kr: "ì´ ê³„ì •ì€ 500ëª…ì˜ íŒ”ë¡œì›Œë¥¼ ê°€ì§€ê³  ìˆë‹¤.", en: "This (account) has 500 followers.", answer: "account"},
  {kr: "ë‚˜ëŠ” ì˜ìƒì„ ê³µìœ í•œë‹¤.", en: "I (share) videos.", answer: "share"},
  {kr: "ë§ì€ ì‚¬ëŒë“¤ì´ ë‚´ ê³„ì •ì„ íŒ”ë¡œìš°í–ˆë‹¤.", en: "Many people (followed) my account.", answer: "followed"},
  {kr: "ë§ì€ ì‚¬ëŒë“¤ì´ DMì„ ë³´ë‚¼ ê²ƒì´ë‹¤.", en: "Many people (will send) DMs.", answer: "will send"}
];

let current = 0;
const $kr = document.getElementById("translation");
const $en = document.getElementById("sentence");
const $answer = document.getElementById("answer");
const $feedback = document.getElementById("feedback");
const $progress = document.getElementById("progress");
const $checkBtn = document.getElementById("checkBtn");

function normalize(s){
  return s.toLowerCase().replace(/\s+/g, " ").trim();
}

function loadSentence() {
  const item = data[current];
  $progress.textContent = `ë¬¸í•­ ${current + 1} / ${data.length}`;
  $kr.textContent = item.kr;
  // ( ) ë¶€ë¶„ì„ ë¹ˆì¹¸(_____)ìœ¼ë¡œ ëŒ€ì²´
  $en.innerHTML = item.en.replace(/\(.*?\)/, "_____");
  $answer.value = "";
  $feedback.textContent = "";
  $feedback.className = "feedback";
  $answer.focus();
}

function goNextOrFinish() {
  current++;
  if (current < data.length) {
    loadSentence();
  } else {
    document.querySelector(".card").innerHTML =
      `<div class="progress">ë¬¸í•­ ${data.length} / ${data.length}</div>
       <h2>ğŸ‰ ëª¨ë“  ë¬¸ì¥ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ì˜í–ˆì–´ìš”!</h2>`;
  }
}

function checkAnswer() {
  const user = normalize($answer.value);
  const correct = normalize(data[current].answer);
  if (user === correct) {
    $feedback.textContent = "âœ… ì •ë‹µì…ë‹ˆë‹¤!";
    $feedback.className = "feedback correct";
    setTimeout(goNextOrFinish, 600);
  } else {
    $feedback.textContent = "âŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.";
    $feedback.className = "feedback wrong";
  }
}

$checkBtn.addEventListener("click", checkAnswer);

// Enter í‚¤ë¡œë„ ë‹¤ìŒ ë¬¸í•­
$answer.addEventListener("keydown", (e) => {
  if (e.key === "Enter") {
    e.preventDefault();
    checkAnswer();
  }
});

loadSentence();
</script>

</body>
</html>
